(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();const g=async c=>{const n=`https://api.zippopotam.us/us/${c}`,s=await fetch(n);if(!s.ok)throw new Error(`Error fetching data from Zippopotam API: ${s.status}`);const t=(await s.json()).places[0],e=t.latitude,r=t.longitude,a=t["place name"],i=t["state abbreviation"];return{latitude:e,longitude:r,city:a,state:i}},y=async(c,n,s)=>{const o=`https://api.sunrise-sunset.org/json?lat=${c}&lng=${n}&date=${s}&formatted=0`,t=await fetch(o);if(!t.ok)throw new Error(`Error fetching data from Sunrise-Sunset API: ${t.status}`);const e=await t.json(),r=e.results.sunrise,a=e.results.sunset;return{sunrise:r,sunset:a}},h=async c=>{c.preventDefault();const n=c.target,s=new FormData(n),o=Object.fromEntries(s);console.log("Form Data:",o);const t=document.getElementById("results-zipcode");t.textContent="Zipcode: "+o.zipcode;const e=document.getElementById("results-date");e.textContent="Date: "+o.date;const r=document.getElementById("results-timezone");r.textContent="Timezone: "+o.timezone;try{const{latitude:a,longitude:i,city:u,state:l}=await g(o.zipcode);console.log(`Location: ${u}, ${l} ${o.zipcode}`);const{sunrise:d,sunset:m}=await y(a,i,o.date),f=document.getElementById("results-sunrise");f.textContent="Sunrise: "+new Date(d).toLocaleTimeString();const p=document.getElementById("results-sunset");p.textContent="Sunset: "+new Date(m).toLocaleTimeString()}catch(a){console.warn(a)}n.reset()},w=()=>{document.querySelector("#sunForm").addEventListener("submit",h)};w();
